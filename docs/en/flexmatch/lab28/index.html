<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="Full Stack Game Demo">
<meta name="author" content="Jinsung Thomas Park">

    <link rel="icon" href="/aws-gamelift-sample/en/images/favicon.png" type="image/png">

    <title>Analyzing Matchmaking Event :: Start Full Stack Game with GameLift</title>

    
    <link href="/aws-gamelift-sample/en/css/nucleus.css?1657242239" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/fontawesome-all.min.css?1657242239" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/hybrid.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/featherlight.min.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/perfect-scrollbar.min.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/auto-complete.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/atom-one-dark-reasonable.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/theme.css?1657242240" rel="stylesheet">
    <link href="/aws-gamelift-sample/en/css/hugo-theme.css?1657242240" rel="stylesheet">
    
      <link href="/aws-gamelift-sample/en/css/theme-aws.css?1657242240" rel="stylesheet">
    

    <script src="/aws-gamelift-sample/en/js/jquery-3.3.1.min.js?1657242240"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/aws-gamelift-sample/en/flexmatch/lab28/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/aws-gamelift-sample/ko">
	<img src="/aws-gamelift-sample/ko/images/logo.png" height="70px"/>
</a>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-169409427-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169409427-1');
</script>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/aws-gamelift-sample/en/js/lunr.min.js?1657242240"></script>
<script type="text/javascript" src="/aws-gamelift-sample/en/js/auto-complete.js?1657242240"></script>
<script type="text/javascript">
    
        var baseurl = "\/aws-gamelift-sample\/en\/\/en";
    
</script>
<script type="text/javascript" src="/aws-gamelift-sample/en/js/search.js?1657242240"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/intro/" title="GameLift HoL Introduction" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/intro/">
          <b>0. </b>GameLift HoL Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/intro/lab01/" title="Workshop Contents" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/intro/lab01/">
          <b>0-1. </b>Workshop Contents
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/intro/lab02/" title="HoL Preparation" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/intro/lab02/">
          <b>0-2. </b>HoL Preparation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/intro/lab03/" title="Service Information" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/intro/lab03/">
          <b>0-3. </b>Service Information
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/" title="Build AWS Services" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/">
          <b>1. </b>Build AWS Services
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/lab10/" title="Deploy CloudFormation Stack" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/lab10/">
          <b>1-0. </b>Deploy CloudFormation Stack
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/lab11/" title="Creating DynamoDB" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/lab11/">
          <b>1-1. </b>Creating DynamoDB
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/lab12/" title="ElastiCache Configuration" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/lab12/">
          <b>1-2. </b>ElastiCache Configuration
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/lab13/" title="Making SQS" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/lab13/">
          <b>1-3. </b>Making SQS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/awsservice/lab14/" title="Creating IAM Policy and Role" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/awsservice/lab14/">
          <b>1-4. </b>Creating IAM Policy and Role
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/" title="GameLift FlexMatch Lab" class="dd-item 
        parent
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/">
          <b>2. </b>GameLift FlexMatch Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab21/" title="Making Lambda Functions" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab21/">
          <b>2-1. </b>Making Lambda Functions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab22/" title="Configuring API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab22/">
          <b>2-2. </b>Configuring API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab23/" title="S3 Web Hosting" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab23/">
          <b>2-3. </b>S3 Web Hosting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab24/" title="Creating Game Server Build &amp; Fleet" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab24/">
          <b>2-4. </b>Creating Game Server Build &amp; Fleet
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab25/" title="Build Serverless FlexMatch" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab25/">
          <b>2-5. </b>Build Serverless FlexMatch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab26/" title="Configuring Matchmaking Event" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab26/">
          <b>2-6. </b>Configuring Matchmaking Event
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab27/" title="Connecting Game Client with FlexMatch" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab27/">
          <b>2-7. </b>Connecting Game Client with FlexMatch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab28/" title="Analyzing Matchmaking Event" class="dd-item 
        
        active
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab28/">
          <b>2-8. </b>Analyzing Matchmaking Event
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/flexmatch/lab29/" title="Test FlexMatch Ruleset" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/flexmatch/lab29/">
          <b>2-9. </b>Test FlexMatch Ruleset
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/" title="Start with FleetIQ" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/">
          <b>3. </b>Start with FleetIQ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab31/" title="Preparations" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab31/">
          <b>3-1. </b>Preparations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab32/" title="Setting Fiesta IAM" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab32/">
          <b>3-2. </b>Setting Fiesta IAM
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab33/" title="Creating Game Server Group" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab33/">
          <b>3-3. </b>Creating Game Server Group
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab34/" title="Creating Server on FleetIQ" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab34/">
          <b>3-4. </b>Creating Server on FleetIQ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab35/" title="Creating Client on FleetIQ" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab35/">
          <b>3-5. </b>Creating Client on FleetIQ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/fleetiq/lab36/" title="Connect Server and Client" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/fleetiq/lab36/">
          <b>3-6. </b>Connect Server and Client
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/" title="GameLift Classic Lab (Option)" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/">
          <b>4. </b>GameLift Classic Lab (Option)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab41/" title="Making Lambda Functions" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab41/">
          <b>4-1. </b>Making Lambda Functions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab42/" title="Configuring API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab42/">
          <b>4-2. </b>Configuring API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab43/" title="S3 Web Hosting" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab43/">
          <b>4-3. </b>S3 Web Hosting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab44/" title="Creating Game Server Build &amp; Fleet" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab44/">
          <b>4-4. </b>Creating Game Server Build &amp; Fleet
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab45/" title="Creating Matchmaker Server" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab45/">
          <b>4-5. </b>Creating Matchmaker Server
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/gamelift/lab46/" title="Game Client Settings &amp; Game Play!" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/gamelift/lab46/">
          <b>4-6. </b>Game Client Settings &amp; Game Play!
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/cleanup/" title="Clean Up" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/cleanup/">
          <b>5. </b>Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/aws-gamelift-sample/en/appendix/" title="Appendix" class="dd-item 
        
        
        
        ">
      <a href="/aws-gamelift-sample/en/appendix/">
          <b>6. </b>Appendix
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/aws-gamelift-sample/en/flexmatch/lab28/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="ko" value="/aws-gamelift-sample/ko/flexmatch/lab28/">한국어</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      © 2020 Amazon Web Services, Inc. or its Affiliates. All rights reserved.

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/aws-gamelift-sample/en/'>GameLift HoL</a> > <a href='/aws-gamelift-sample/en/flexmatch/'>GameLift FlexMatch Lab</a> > Analyzing Matchmaking Event
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#analyzing-flexmatch-matchmaking-event-brbr">Analyzing FlexMatch Matchmaking Event <!-- raw HTML omitted --><!-- raw HTML omitted --></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Analyzing Matchmaking Event
            </h1>
          

        




	<h3 id="analyzing-flexmatch-matchmaking-event-brbr">Analyzing FlexMatch Matchmaking Event <!-- raw HTML omitted --><!-- raw HTML omitted --></h3>
<p>When you make Game, executing itself will not be your goal. Operation and management are very important for Game Service.
FlexMatch provides Matchmaking Events, and it makes events related to GameLift tickets.</p>
<p>With Matchmaking events, we are able to use this features for checking issue status, match status monitoring or troubleshooting and debugging.</p>
<p>In this page, we are looking how to log Matchmaking events and analyze game session match patterns easily with FlexMatch Matchmaking events and CloudWatch Logs.</p>
<p>CloudWatch Logs is nice tool for monitoring Log streams near-realtime, ans we can make monitoring system by Logs Insight without provisioning any resources. <br>
So, it would be good opportunity to practice!</p>
<ol>
<li>
<p>Creating Lambda function to handle FlexMatch Matchmaking events. Select Author from scratch. You don&rsquo;t need to change Permission settings for your comfort.</p>
</li>
<li>
<p>Set function name as <em>game-flexmatch-event</em>, and Runtime would be Python 3.9. Permission requires permission to record logs in CloudWatch Logs, and can be easily implemented with basic Lambda permission.</p>
</li>
</ol>
<p><img src="../../images/flexmatch/lab28/Event-1%5Ben%5D.png" alt="Event"></p>
<ol start="3">
<li>Function code is not provided, but you can use this source code below. :)</li>
</ol>

<div class="notices tip" ><p>If it is possible, I recommend you to modify this source code! Let&rsquo;s check how Matchmaking can be handled and what kinds of information can we get!</p>
</div>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
</span></span><span style="display:flex;"><span>    eventType <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;detail&#39;</span>][<span style="color:#e6db74">&#39;type&#39;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (eventType <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;MatchmakingSucceeded&#34;</span>):
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;detail&#39;</span>][<span style="color:#e6db74">&#39;gameSessionInfo&#39;</span>][<span style="color:#e6db74">&#39;players&#39;</span>][<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;playerId&#39;</span>]
</span></span><span style="display:flex;"><span>        b <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;detail&#39;</span>][<span style="color:#e6db74">&#39;gameSessionInfo&#39;</span>][<span style="color:#e6db74">&#39;players&#39;</span>][<span style="color:#ae81ff">1</span>][<span style="color:#e6db74">&#39;playerId&#39;</span>]
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Matchmaking: &#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span> b)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;statusCode&#39;</span>: <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;body&#39;</span>: json<span style="color:#f92672">.</span>dumps(<span style="color:#e6db74">&#39;Hello from Lambda!&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>This code inspects Matchmaking event ticket types and write logs for Matchmaking data.
Logs printed in Lambda function send its output stream to CloudWatch Logs as default.</p>
<ol start="4">
<li>
<p>Access to CloudWatch Console in order to make trigger. (<a href="https://console.aws.amazon.com/cloudwatch">https://console.aws.amazon.com/cloudwatch</a>)</p>
</li>
<li>
<p>Click &ldquo;CloudWatch Events&rdquo; on the left side of the console. Click &ldquo;Get Started&rdquo; or &ldquo;Create Rule&rdquo;.</p>
</li>
<li>
<p>Let&rsquo;s create Rule like below. We could also configure various Targets such as SNS topic, but we are using Lambda functions(game-flexmatch-event) as Target.</p>
</li>
</ol>
<p><img src="../../images/flexmatch/lab28/Event-2%5Ben%5D.png" alt="Event"></p>
<ol start="7">
<li>Set proper name for event and click &ldquo;Create&rdquo; button. Check Rule was successfully created.</li>
</ol>
<p><img src="../../images/flexmatch/lab28/Event-3%5Ben%5D.png" alt="Event"></p>
<ol start="8">
<li>Let&rsquo;s play &ldquo;Gomoku&rdquo; game again! We can check CloudWatch Logs that CloudWatch Events logs events from Lambda functions. We also find Matchmaking events on logs. It contains Matchmaking lists on its logs.</li>
</ol>
<p><img src="../../images/flexmatch/lab28/Event-4%5Ben%5D.png" alt="Event"></p>
<ol start="9">
<li>
<p>Click &ldquo;Logs Insight&rdquo; on left side of menu.</p>
</li>
<li>
<p>Next queries provide Matchmaking results from log data as raw data filtering.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>message
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>message <span style="color:#66d9ef">like</span> <span style="color:#f92672">/</span>Matchmaking:<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> sort <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span> <span style="color:#66d9ef">desc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><p>You are able to put this query inside of textbox in Logs Insight</p>
<p><img src="../../images/flexmatch/lab28/Event-5%5Ben%5D.png" alt="Event"></p>
<ul>
<li>The result can be different from picture above.</li>
</ul>
<ol start="11">
<li>Next queries provide statistics information that is aggregated recent Matchmaking results.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>stats <span style="color:#66d9ef">count</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">by</span> <span style="color:#f92672">@</span>message
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>message <span style="color:#66d9ef">like</span> <span style="color:#f92672">/</span>Matchmaking:<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> sort <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span> <span style="color:#66d9ef">desc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><p>And result can be like below.</p>
<p><img src="../../images/flexmatch/lab28/Event-6%5Ben%5D.png" alt="Event"></p>
<ol start="12">
<li>We have tested simple example this page. You can play more games, and make more queries for your game easily.
This kind of features will make you balance game session matching on early stage of your games.</li>
</ol>
<hr>
<!-- raw HTML omitted -->





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/aws-gamelift-sample/en/flexmatch/lab27/" title="Connecting Game Client with FlexMatch"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/aws-gamelift-sample/en/flexmatch/lab29/" title="Test FlexMatch Ruleset" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/aws-gamelift-sample/en/js/clipboard.min.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/perfect-scrollbar.min.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/perfect-scrollbar.jquery.min.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/jquery.sticky.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/featherlight.min.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/highlight.pack.js?1657242240"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/aws-gamelift-sample/en/js/modernizr.custom-3.6.0.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/learn.js?1657242240"></script>
    <script src="/aws-gamelift-sample/en/js/hugo-learn.js?1657242240"></script>

    <link href="/aws-gamelift-sample/en/mermaid/mermaid.css?1657242240" rel="stylesheet" />
    <script src="/aws-gamelift-sample/en/mermaid/mermaid.js?1657242240"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
  </body>
</html>
